@import myapp.models.Collection;
@import myapp.models.Chat;

@args (Collection collection, String title, String subtitle, String url, Integer page, Integer pageCount)

@views.common.main.template("Mongo") -> {
<div class="page-header">
    <h1>
        @title<br>
        @subtitle<br>
    </h1>
</div>
<ul class="list-group">
    @if(collection.data!=null) {
        @for (Chat p : collection.data) {
        <li class="list-group-item">
            Message: <b>@p.message</b> | Date: <b>@p.createdAt</b>
        </li>
        }
    } else {
        Collection is null
    }
</ul>

@if (pageCount > 1) {
<ul class="pagination">
    @if (page > 1) {
    <li><a href="/@url/1">&laquo;</a></li>
    }

    @with(Integer i = 1){
    @if (page > 5) {

    }
    @if (i != 1) {
    <li class="disabled"><a href="#">...</a></li>
    }
    @for (Integer j = i; j<=pageCount; j++) {
    @if (page == j) {
    <li class="active"><span> @j <span class="sr-only">(current)</span></span></li>
    } else {
    <li><a href="/@url/@j"> @j </a></li>
    }
    @if (j == (+page + 4)) {
    <li class="disabled"><a href="#">...</a></li>
        @break;
    }
    }
    @if (page != pageCount) {
    <li><a href="/@url/@pageCount ">&raquo;</a></li>
    }
    }
</ul>
}
}

